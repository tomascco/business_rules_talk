<div class="column is-one-quarter">
  <div class="card" data-test="productCard">
    <div class="card-image">
      <figure class="image is-4by3">
        <img src="https://bulma.io/images/placeholders/1280x960.png" alt="Placeholder image">
      </figure>
    </div>
    <div class="card-content">
      <div class="content">
        <p class="title mb-1"><%= product.name %></p>
        <%= product.description&.truncate(100) %>
        <div class="columns">
          <div class="column">
            <p class="is-size-5 has-text-left" data-test="price"><strong>R$ <%= format_price(product.price) %></strong></p>
          </div>
          <div class="column">
            <%= form_with model: CartProduct do |f| %>
              <%= f.hidden_field :product_id, value: product.id %>
              <div class="field has-addons">
                <p class="control">
                  <span class="select">
                    <%= f.select :quantity, [1, 2, 3, 4], {}, "data-test": "quantitySelect" %>
                  </span>
                  <p class="control">
                    <%= button_tag class: "button", "data-test": "addToCart" do %>
                      <i class="fas fa-cart-plus"></i>
                    <% end %>
                  </p>
                </p>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
